<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sist.back.mapper.BoardImgMapper">
  <insert id="BoardInsert">
      INSERT INTO board(viewqty, likeqty, create_dtm, isdeleted)
      VALUES (0, 0, NOW(), 0)
  </insert>

	<insert id="BoardImgSave">
		INSERT INTO boardimg(boardkey, f_name, imgweburl)
    VALUES(#{boardkey}, #{fname}, #{imgweburl})
	</insert>

  <delete id="BoardImgDelete">
    DELETE FROM boardimg
    WHERE boardkey = #{boardkey}
      AND imgweburl NOT IN
      <foreach item="url" collection="imgweburl" open="(" separator="," close=")">
          #{url}
      </foreach>
</delete>
</mapper>